<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Our Programs — Bildung mit Wirkung e.V.</title>
    <meta name="description" content="Learn about all programs by Bildung mit Wirkung e.V., including education access, elderly care, disaster relief, and community building in Indonesia." />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mod.css">
    </head>
<body>
    <nav class="navbar navbar-expand-lg mt-3 navbar-light fixed-top scrolled"> 
        <div class="container bg-white px-3 py-2 rounded-5">
            <a class="navbar-brand d-flex align-items-center" href="index.html"> 
                <img src="images/bmw logo.svg" alt="Bildung mit Wirkung e.V. Logo" height="50px" class="me-2">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav m-auto align-items-lg-center mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" href="index.html#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#impact">Impact</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#gallery">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link active" href="program.html">Programs</a></li> 
                    <li class="nav-item"><a class="nav-link" href="index.html#getinvolved">Get Involved</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
                </ul>
                <div class="d-flex ms-3 align-items-center">
                    <a href="index.html#donate" class="btn btn-donate btn-sm me-3">Donate</a> 
                    <div class="lang-switcher">
                        <a href="javascript:void(0)" class="lang-btn" data-lang="de" title="Deutsch">
                            <img src="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/flags/4x3/de.svg" alt="German" width="24">
                        </a>
                        <a href="javascript:void(0)" class="lang-btn" data-lang="en" title="English">
                            <img src="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/flags/4x3/gb.svg" alt="English" width="24">
                        </a>
                        <a href="javascript:void(0)" class="lang-btn" data-lang="id" title="Bahasa Indonesia">
                            <img src="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/flags/4x3/id.svg" alt="Indonesian" width="24">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div id="google_translate_element"></div>
    <div class="container pt-5 container-narrow" style="padding-top: 120px !important;">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item fw-bold"><a href="program.html">Programs</a></li>
            </ol>
        </nav>
    </div>
    <header class="section-compact bg-light mt-4"> 
        <div class="container container-narrow">
            <a href="index.html" class="btn btn-dark btn-lg"><i class="bi bi-arrow-left me-2"></i> Back to Home</a>
        </div>
        <div class="container container-narrow  mt-4">
            <span class="kicker">What We Do</span>
            <p class=" fw-bold   display-3">Our Programs</p>
            <p class=" lead mb-4">Our mission focuses on two main pillars: providing equitable education access for children in remote areas, and ensuring dignified care for the elderly.</p>
        </div>
    </header>
    <main class="section-compact py-5" id="app">
        <div class="container container-narrow">
            <div class="row g-4">
                <div class="col-md-6 col-lg-4 d-flex" v-for="program in programs" :key="program.id">
                    <article class="program-card h-100">
                        <img :src="program.image_url" class="img-fluid rounded-top" :alt="program.title" @error="handleImageError">
                        <div class="p-3 d-flex flex-column">
                            <h4 :id="'p' + program.id">{{ program.title }}</h4>
                            <p class="flex-grow-1">{{ program.short_description }}</p>
                            <div class="mt-3">
                                <a class="btn btn-outline-secondary btn-sm" :href="'program-detail.html?id=' + program.id">See details</a>
                            </div>
                        </div>
                    </article>
                </div>
                <div v-if="programs.length === 0" class="col-12 text-center py-5">
                    <div class="spinner-border" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2 text-muted">Loading Programs...</p>
                </div>
            </div>
        </div>
    </main>
    <footer class="site-footer" role="contentinfo">
        <div class="container container-narrow">
            <div class="footer-grid">
                <div>
                    <h6>Bildung mit Wirkung e.V.</h6>
                    <p class="muted small">Registered association based in München. Our work connects German donors and institutions with remote communities across Indonesia to build sustainable education and elderly care.</p>
                    <p class="muted small">Hirsch-Gereuth-Straße 55, 81369 München, Deutschland</p>
                </div>
                <div>
                    <h6>Quick Links</h6>
                    <ul class="list-unstyled muted small">
                        <li><a href="program.html">Programs</a></li>
                        <li><a href="index.html#impact">Impact</a></li>
                        <li><a href="index.html#partners">Partners</a></li>
                        <li><a href="index.html#faq">FAQ</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h6>Stay in touch</h6>
                    <p class="muted small mb-2">Subscribe to our newsletter for updates and impact stories.</p>
                    <form id="newsletterForm" class="d-flex gap-2">
                        <input id="newsletterEmail" type="email" class="form-control form-control-sm" placeholder="Your email" required>
                        <button class="btn btn-donate btn-sm" type="submit">Subscribe</button>
                    </form>
                    <div class="mt-3">
                        <a href="#" class="me-2 muted"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="me-2 muted"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="me-2 muted"><i class="bi bi-instagram"></i></a>
                    </div>
                </div>
            </div>
            <hr style="margin:1.5rem 0;border-color:rgba(0,0,0,0.05)">
            <div class="d-flex justify-content-between flex-wrap muted small">
                <div>© 2025 Bildung mit Wirkung e.V.. All rights reserved.</div>
                <div>Privacy · Terms · Transparency</div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <script>
        // Skrip untuk Google Translate (tidak berubah)
        function setCookie(key, value, expiryDays) { let date = new Date(); date.setTime(date.getTime() + (expiryDays * 24 * 60 * 60 * 1000)); document.cookie = key + "=" + value + "; expires=" + date.toUTCString() + "; path=/"; }
        function getCookie(key) { let name = key + "="; let decodedCookie = decodeURIComponent(document.cookie); let ca = decodedCookie.split(';'); for(let i = 0; i <ca.length; i++) { let c = ca[i]; while (c.charAt(0) == ' ') c = c.substring(1); if (c.indexOf(name) == 0) return c.substring(name.length, c.length); } return ""; }
        function changeLanguage(lang) { setCookie('googtrans', '/en/' + lang, 1); var googleSelect = document.querySelector("#google_translate_element select"); if (googleSelect) { googleSelect.value = lang; var event = new Event('change'); googleSelect.dispatchEvent(event); } else { location.reload(); } document.querySelectorAll('.lang-btn').forEach(btn => { btn.classList.remove('active'); if (btn.getAttribute('data-lang') === lang) { btn.classList.add('active'); } }); }
        function googleTranslateElementInit() { new google.translate.TranslateElement({ pageLanguage: 'en', includedLanguages: 'en,de,id', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, autoDisplay: false }, 'google_translate_element' ); document.querySelectorAll('.lang-btn').forEach(btn => { btn.addEventListener('click', function (e) { e.preventDefault(); var lang = this.getAttribute('data-lang'); changeLanguage(lang); }); }); let currentLang = getCookie('googtrans'); let initialLang = 'en'; if (currentLang && currentLang !== 'null' && currentLang.includes('/')) { initialLang = currentLang.split('/')[2]; } let activeBtn = document.querySelector('.lang-btn[data-lang="' + initialLang + '"]'); if (activeBtn) { activeBtn.classList.add('active'); } else { document.querySelector('.lang-btn[data-lang="en"]').classList.add('active'); } }

        // Skrip Vue untuk Halaman Publik
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    programs: []
                }
            },
            mounted() {
                // Path ke API sudah benar, karena halaman ini ada di root.
                fetch('administrator/api.php?action=get_programs')
                    .then(response => response.json())
                    .then(data => {
                        if (data.status === 'success') {
                            this.programs = data.data;
                        }
                    });
            },
            methods: {
                handleImageError(event) {
                    // Jika gambar gagal dimuat, ganti dengan gambar default
                    event.target.src = 'images/bg-logo-light.jpg';
                }
            }
        }).mount('#app');
    </script>
</body>
</html>